<% layout('layouts/boilerplate') -%>
<div class="container">
	<div class="row">
		<div class="col-md-6">
			<div class="card mt-3">
				<img src="<%= campground.image %>" alt="camp image" class="card-img-top" />
				<div class="card-body">
					<div class="row justify-content-between">
						<div class="col-9">
							<h5 class="card-title"><%= campground.title %></h5>
						</div>
						<div class="col-3">
							<span class="btn btn-info fs-5">&dollar; <%= campground.price %></span>
						</div>
					</div>

					<h6 class="card-subtitle mb-2 text-muted"><%= campground.location %></h6>
					<p class="card-text"><%= campground.description %></p>
					<div class="py-3 row justify-content-between">
						<div class="col-4 text-center">
							<a href="/campgrounds/<%= campground._id %>/update ">
								<input
									type="submit"
									value="Update Campground"
									class="btn btn-warning"
								/>
							</a>
						</div>
						<div class="col-4 text-center">
							<form
								action="/campgrounds/<%= campground._id %>?_method=DELETE"
								method="post"
							>
								<button type="submit" class="btn btn-danger">
									Delete Campground
								</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-6">
			<h2 class="mt-3">Leave A Review</h2>
			<form
				action="/campgrounds/<%=campground._id%>/reviews"
				method="post"
				class="mb-3 validation-form"
				novalidate
			>
				<div class="mb-3">
					<label for="rating" class="form-label">Rating</label>
					<input
						name="review[rating]"
						type="range"
						class="form-range"
						min="1"
						max="5"
						id="rating"
						required
					/>
					<div class="invalid-feedback">This is a required field !</div>
				</div>
				<div class="mb-3">
					<label for="body" class="form-label">Review</label>
					<textarea
						name="review[body]"
						class="form-control"
						id="body"
						rows="3"
						required
					></textarea>
					<div class="invalid-feedback">This is a required field !</div>
				</div>
				<button class="btn btn-success">Submit</button>
			</form>
			<section>
				<% for( let review of campground.reviews) { %>
				<div class="card mb-3">
					<div class="card-body">
						<p class="card-subtitle text-muted">Rating - <%= review.rating %></p>
						<p class="card-text">Review - <%= review.body %></p>
						<div class="d-flex justify-content-start">
							<form
								action="/campgrounds/<%= campground._id %>/reviews/<%= review._id %>?_method=DELETE"
								method="post"
							>
								<button class="btn btn-sm btn-danger">
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="16"
										height="16"
										fill="currentColor"
										class="bi bi-trash3-fill"
										viewBox="0 0 16 16"
									>
										<path
											d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"
										/>
									</svg>
								</button>
							</form>
						</div>
					</div>
				</div>

				<% } %>
			</section>
		</div>
	</div>
</div>
<a href="/campgrounds">Back to Main Page</a>
